import{$ as e,d as a,a4 as l,a5 as s,b as o,g as r,Y as n,W as u,c as t,a as d,M as i,z as c,I as p,a6 as m,a7 as v,K as g,a8 as f}from"./vue.23ad2e95.js";import{S as w}from"./element-plus.d1228c47.js";const y=m();v("data-v-1fc3a28e");const b={class:"login-wrap"},_={class:"login-content"},V=d("div",{class:"login-title"},"系统登录",-1),h=d("i",{class:"el-icon-s-custom"},null,-1),k={class:"login-btn"},j=g("登录"),x=d("p",{class:"login-tips"},"用户名: admin 密码: 123",-1),C=d("p",{class:"login-tips"},"用户名: editor 密码: 456",-1);f();var K=a({expose:[],setup(a){const m=l(),v=s(),g=o(!1),f=o(null),K=o(!0),q=o("password"),I=r({username:"",password:""}),U=r({username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),z=()=>{K.value?q.value="text":q.value="password",K.value=!K.value},M=async()=>{await async function(a,l=!1){const s=e(a).validate;return new Promise((e=>s(((a,s)=>e(l?{valid:a,object:s}:a)))))}(f)?(g.value=!0,v.dispatch("user/login",I).then((()=>{m.push("/")})).finally((()=>{g.value=!1}))):w.error("请输入用户名和密码")};return(a,l)=>{const s=n("el-input"),o=n("el-form-item"),r=n("el-button"),m=n("el-form");return u(),t("div",b,[d("div",_,[V,d(m,{ref:f,class:"login-form",model:e(I),rules:e(U),"status-icon":""},{default:y((()=>[d(o,{prop:"username"},{default:y((()=>[d(s,{modelValue:e(I).username,"onUpdate:modelValue":l[1]||(l[1]=a=>e(I).username=a),clearable:"",placeholder:"用户名"},{prepend:y((()=>[h])),_:1},8,["modelValue"])])),_:1}),d(o,{prop:"password"},{default:y((()=>[d(s,{modelValue:e(I).password,"onUpdate:modelValue":l[2]||(l[2]=a=>e(I).password=a),clearable:"",placeholder:"密码",type:q.value,onKeyup:i(M,["enter"])},{prepend:y((()=>[c(d("i",{class:"el-icon-lock",onClick:z},null,512),[[p,K.value]]),c(d("i",{class:"el-icon-unlock",onClick:z},null,512),[[p,!K.value]])])),_:1},8,["modelValue","type","onKeyup"])])),_:1}),d("div",k,[d(r,{type:"primary",loading:g.value,onClick:M},{default:y((()=>[j])),_:1},8,["loading"])]),x,C])),_:1},8,["model","rules"])])])}}});K.__scopeId="data-v-1fc3a28e";export default K;
