import{$ as e,d as a,a4 as l,b as s,g as o,y as r,o as n,c as u,a as t,R as i,G as d,N as p,a5 as c,P as m,a6 as v,a7 as g}from"./vue.7ec5d134.js";import{s as f}from"./index.684a9208.js";import{S as b}from"./element-plus.828ac64d.js";const w=c();v("data-v-11bb29ee");const y={class:"login-wrap"},_={class:"login-content"},V=t("div",{class:"login-title"},"系统登录",-1),h=t("i",{class:"el-icon-s-custom"},null,-1),k={class:"login-btn"},j=m("登录"),x=t("p",{class:"login-tips"},"用户名: admin 密码: 123",-1),C=t("p",{class:"login-tips"},"用户名: editor 密码: 456",-1);g();var q=a({expose:[],setup(a){const c=l(),m=s(!1),v=s(null),g=s(!0),q=s("password"),K=o({username:"",password:""}),P=o({username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),U=()=>{g.value?q.value="text":q.value="password",g.value=!g.value},G=async()=>{await async function(a,l=!1){const s=e(a).validate;return new Promise((e=>s(((a,s)=>e(l?{valid:a,object:s}:a)))))}(v)?(m.value=!0,f.dispatch("user/login",K).then((()=>{c.push("/")})).finally((()=>{m.value=!1}))):b.error("请输入用户名和密码")};return(a,l)=>{const s=r("el-input"),o=r("el-form-item"),c=r("el-button"),f=r("el-form");return n(),u("div",y,[t("div",_,[V,t(f,{ref:v,class:"login-form",model:e(K),rules:e(P),"status-icon":""},{default:w((()=>[t(o,{prop:"username"},{default:w((()=>[t(s,{modelValue:e(K).username,"onUpdate:modelValue":l[1]||(l[1]=a=>e(K).username=a),clearable:"",placeholder:"用户名"},{prepend:w((()=>[h])),_:1},8,["modelValue"])])),_:1}),t(o,{prop:"password"},{default:w((()=>[t(s,{modelValue:e(K).password,"onUpdate:modelValue":l[2]||(l[2]=a=>e(K).password=a),clearable:"",placeholder:"密码",type:q.value,onKeyup:i(G,["enter"])},{prepend:w((()=>[d(t("i",{class:"el-icon-lock",onClick:U},null,512),[[p,g.value]]),d(t("i",{class:"el-icon-unlock",onClick:U},null,512),[[p,!g.value]])])),_:1},8,["modelValue","type","onKeyup"])])),_:1}),t("div",k,[t(c,{type:"primary",loading:m.value,onClick:G},{default:w((()=>[j])),_:1},8,["loading"])]),x,C])),_:1},8,["model","rules"])])])}}});q.__scopeId="data-v-11bb29ee";export{q as default};
