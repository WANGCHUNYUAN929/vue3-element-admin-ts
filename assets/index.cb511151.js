import{$ as e,d as a,a4 as s,b as l,g as o,Y as r,W as n,c as t,a as d,M as u,a5 as i,a6 as p,K as c,a7 as m}from"./vue.2d972967.js";import{S as g}from"./element-plus.9c25a01d.js";import{s as f,a as v}from"./index.3abe9d3c.js";import{l as b}from"./user.fa2bb153.js";const w=i();p("data-v-02750316");const y={class:"login-wrap"},_={class:"login-content"},V=d("div",{class:"login-title"},"系统登录",-1),j=d("i",{class:"el-icon-s-custom"},null,-1),h=d("i",{class:"el-icon-lock"},null,-1),k={class:"login-btn"},x=c("登录"),K=d("p",{class:"login-tips"},"用户名: admin 密码: 123",-1),q=d("p",{class:"login-tips"},"用户名: editor 密码: 456",-1);m();var U=a({expose:[],setup(a){const i=s(),p=l(!1),c=l(null),m=o({username:"",password:""}),U=o({username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),C=async()=>{await async function(a,s=!1){const l=e(a).validate;return new Promise((e=>l(((a,l)=>e(s?{valid:a,object:l}:a)))))}(c)?(p.value=!0,b(m).then((e=>{200===e.code?(g.success(e.message),f(e.token),v(e.role),i.push("/")):g.error(e.message)})).finally((()=>{p.value=!1}))):g.error("请输入用户名和密码")};return(a,s)=>{const l=r("el-input"),o=r("el-form-item"),i=r("el-button"),g=r("el-form");return n(),t("div",y,[d("div",_,[V,d(g,{ref:c,class:"login-form",model:e(m),rules:e(U),"status-icon":""},{default:w((()=>[d(o,{prop:"username"},{default:w((()=>[d(l,{modelValue:e(m).username,"onUpdate:modelValue":s[1]||(s[1]=a=>e(m).username=a),clearable:"",placeholder:"用户名"},{prepend:w((()=>[j])),_:1},8,["modelValue"])])),_:1}),d(o,{prop:"password"},{default:w((()=>[d(l,{modelValue:e(m).password,"onUpdate:modelValue":s[2]||(s[2]=a=>e(m).password=a),clearable:"",placeholder:"密码",type:"password",onKeyup:u(C,["enter"])},{prepend:w((()=>[h])),_:1},8,["modelValue","onKeyup"])])),_:1}),d("div",k,[d(i,{type:"primary",loading:p.value,onClick:C},{default:w((()=>[x])),_:1},8,["loading"])]),K,q])),_:1},8,["model","rules"])])])}}});U.__scopeId="data-v-02750316";export default U;
